# Tests pour StatsService - ft_transcendence
# Basé sur les exigences du projet pour les statistiques utilisateur

### Variables
@baseUrl = http://localhost:5001
@apiPrefix = /api/user

### 1. Test de création d'un utilisateur pour les tests
POST {{baseUrl}}/api/auth/register
Content-Type: application/json

{
  "email": "test.stats@example.com",
  "password": "password123456"
}

### 2. Login pour obtenir un token JWT
POST {{baseUrl}}/api/auth/login
Content-Type: application/json

{
  "email": "test.stats@example.com",
  "password": "password123456"
}

### 3. Récupérer les statistiques (utilisateur non connecté - doit échouer)
GET {{baseUrl}}{{apiPrefix}}/statistics

### 4. Récupérer les statistiques (avec token)
# Remplacez YOUR_JWT_TOKEN par le token obtenu lors du login
GET {{baseUrl}}{{apiPrefix}}/statistics
Authorization: Bearer oui
### 5. Test avec un token invalide
GET {{baseUrl}}{{apiPrefix}}/statistics
Authorization: Bearer invalid.token.here

### 6. Récupérer le leaderboard
GET {{baseUrl}}{{apiPrefix}}/leaderboard
Authorization: Bearer oui
### 7. Récupérer le leaderboard avec pagination
GET {{baseUrl}}{{apiPrefix}}/leaderboard?limit=5&offset=0
Authorization: Bearer oui
### 8. Test de limites de pagination
GET {{baseUrl}}{{apiPrefix}}/leaderboard?limit=200&offset=-1
Authorization: Bearer oui
### 9. Health check du serveur
GET {{baseUrl}}/healthcheck
